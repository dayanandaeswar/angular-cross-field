<mat-card appearance="outlined">
    <mat-card-content>
        <form [formGroup]="profileForm" class="profile-form" (submit)="profileFormSubmit()">
            <mat-form-field class="profile-full-width">
                <mat-label>First Name</mat-label>
                <input matInput placeholder="First Name" formControlName="firstName">
                @if (profileForm.get('firstName')?.hasError('required')) {
                <mat-error>Required</mat-error>
                }
            </mat-form-field>
            <mat-form-field class="profile-full-width">
                <mat-label>Last Name</mat-label>
                <input matInput placeholder="Last Name" formControlName="lastName">
                @if (profileForm.get('lastName')?.hasError('required')) {
                <mat-error>Required</mat-error>
                }
            </mat-form-field>
            <div formGroupName="address">
                <mat-form-field class="profile-full-width">
                    <mat-label>Country</mat-label>
                    <mat-select formControlName="country">
                        @for (country of countries; track country) {
                        <mat-option [value]="country.code">{{country.name}}</mat-option>
                        }

                    </mat-select>
                    @if (profileForm.get('address.country')?.hasError('required')) {
                    <mat-error>Required</mat-error>
                    }
                </mat-form-field>
                <mat-form-field class="profile-full-width">
                    <mat-label>Postal Code</mat-label>
                    <input matInput placeholder="Postal Code" formControlName="postalCode">
                    @if (profileForm.get('address.postalCode')?.hasError('required')) {
                    <mat-error>Required</mat-error>
                    }
                    @if (profileForm.get('address.postalCode')?.hasError('invalidLength')) {
                    <mat-error>{{profileForm.get('address.postalCode')?.getError('invalidLength')}}</mat-error>
                    }
                </mat-form-field>
            </div>
            <button mat-raised-button style="float: right; ">Submit</button>
        </form>
    </mat-card-content>
</mat-card>